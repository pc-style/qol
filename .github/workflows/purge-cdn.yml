name: Purge CDN Cache

on:
  push:
    branches:
      - main
    paths:
      - 'dist/**'
      - 'scripts/**'
      - 'tools/build.js'

jobs:
  purge-jsdelivr:
    runs-on: ubuntu-latest
    steps:
      - name: Purge jsdelivr cache
        uses: egad13/purge-jsdelivr-cache@v1
        with:
          url: |
            https://cdn.jsdelivr.net/gh/pc-style/qol@main/dist/qol-framework.user.js
            https://cdn.jsdelivr.net/gh/pc-style/qol@main/scripts/dark-mode-toggle.user.js
            https://cdn.jsdelivr.net/gh/pc-style/qol@main/scripts/custom-shortcuts-manager.user.js
            https://cdn.jsdelivr.net/gh/pc-style/qol@main/scripts/markdown-converter.user.js

